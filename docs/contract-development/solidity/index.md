# Solidity

Solidity 是一种**静态类型、面向合约**的高级编程语言，专门为编写智能合约而设计，被用于以太坊和其他兼容区块链平台。

<details>
<summary>Solidity 的特点：</summary>

1. **继承**: 支持多重继承，允许合约继承其他合约的属性和行为
2. **静态类型**: 所有变量的类型在编译时都必须明确指定
3. **面向合约**: 更类似于 OOP 中的类，合约可以包含状态、函数、事件、修饰符等
4. **兼容 EVM**: 编写的智能合约可被编译成 EVM（以太坊虚拟机） 字节码。使得它们可以在以太坊网络上部署和执行
</details>

### 1. 合约的基本声明

Solidity 智能合约可用于多种场景，包括但不限于去中心化金融（DeFi）、供应链管理、非同质化代币（NFT）、去中心化游戏、数字身份和权限管理。

> [!TIP] 每个合约主要包含的内容大致有：
> 1. 合约声明：类似 OOP 中的类
> 2. 状态变量：存储在链上的数据，表示合约的状态
> 3. 函数：定义合约的行为
> 4. 修饰符：用于改变函数的行为，常用于权限控制和验证
> 5. 事件：用于记录区块链日志，外部应用可以订阅和监听这些事件
> 6. 构造函数：合约创建时执行一次的特殊函数，通常用于初始化状态变量
> 7. 错误处理：通过 `require`、`revert`、`assert` 等处理机制处理错误和验证条件

#### 1.1 创建最基本的合约
在 Remix IDE 中创建一个新的 workspace，然后创建一个以 `.sol` 结尾的文件，该文件就表示一个合约，创建后首先需要指定 Solidity 的版本声明

```solidity
// SPDX-License-Identifier: MIT
pragma solidity  ^0.8.4;
```

其中 `pragma` 用于提供编译器如何处理源代码信息

> [!IMPORTANT] 版本兼容：
> `^` 是一个语义化版本号的操作符，表示 “兼容于” 意味着代码兼容于 0.8.4 版本之前所有的编译器版本。使用版本声明有助于确保合约的源码与 Solidity 编译器的特定版本范围兼容，防止由于编译器版本差异导致的编译错误或行为的不一致

然后通过关键字 `contract` 声明一个合约名称，`contract` 内部就是就是合约的主体内容，状态、函数等都定义在主体中：

```solidity
contract MY {
    // 定义状态
    string name = "Hello World";

    // 定义函数
    function getName() public view returns (string memory) {
        return name;
    }

}
```

在定义好状态以及 `get` 函数后可以在侧边栏的 Solidity Compiler 栏将所编写的 `.sol` 文件进行编译。编译成功后，在 Deploy & Run Transactions 进行进行测试

11.13

## 2. 流程控制 

## 3. 
